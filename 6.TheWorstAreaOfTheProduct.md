# 6.製品の最も悪い部分を見つける

最悪の領域とは多くの欠陥が隠されている領域です。

つまり、多くの欠陥がどこにあるかを予測することが重要なタスクです。

これは、想定される欠陥発生要因を分析することで予測することができます。

このセクションでは、最も重大な欠陥発生要因と欠陥が発生しやすい領域によく現れる症状について説明します。

欠陥は特定の要因に集中しています。これに関しては一部この章でも説明します。

それは最も重要な部分と最悪の領域を特定するために適用されます。

## 複雑な領域

複雑さというのはおそらく最も注意しなければいけない欠陥発要因です。

世の中には200種類以上の複雑さを計測する方法が存在し、複雑さと欠陥頻度\(欠陥密度\)の関連性についての研究は20年以上に渡って続けられています。

しかし、現在になってもなお一般的にちゃんと検証された欠陥の予測方法は存在していません。

それでもなお、現在使われている複雑さの指標のほとんどは実際に問題のある領域を明らかにできます。

指標の例としては、使われている変数の数、ロジックの複雑さ、制御構造の複雑さなどです。

複雑さに関してさまざまな側面に対していくつかの分析を行うことで、製品中で問題を引き起こす可能性のある領域を見つけられます。

## 変更領域

変更は重要な欠陥発要因です（Khoshgoftaarら、1998）。

その1つのケースとして、

変更は簡単であると主観的に認識されている箇所に関して、しばしば影響範囲が十分に分析されていない事があります。

もう一つは、時間の経過とともに徐々に変更が繰り返された場合、影響度分析が不完全なケースがあります。

その結果、副作用が起きてしまいます。 一般はソースコードの変更のログが存在するでしょう。

これは構成管理システムの一部と呼びます（存在する場合）。

変更を機能領域別にソートしたり、変更した行数が異常である領域を見つけることができます。

これらの情報から、最初から設計が十分でない、または多くの変更によって元の設計が跡形もなく破壊され、さらにその後の設計が不十分である兆候が見て取れます。

変更した行数が異常であるというのは、設計が不十分である一つの兆候です。

つまり、大幅に変更された領域は、ユーザーが期待していないような欠陥が存在する可能性があります。

## 新技術や新しい方法を適応した領域

新しいツール、方法、技術にチャレンジしている場合、プログラマーは一定の学習曲線に沿ってスキルアップしていくでしょう。

学習曲線の初期では、それ以降と比較して多くの不具合を生み出すかもしれません。

新しいツールの例としてはCASE（Computer Aided Software Engineering）ツールや、会社内で新しく業務に取り入れるツール、市場においても新しくて不安定なツール等が含まれます。

もう一つの問題はプログラミング言語です。言語によってはプログラマーにとって新しいものもあるでしょう。

また、新しいツールやテクニックそのものが、問題を引き起こす場合もあります。

考慮すべきもう一つの要素は、利用する手法やモデルの成熟度です。

ここで言う成熟とは、理論的根拠の強さ、または経験的証拠の強さを意味します。

もし、対象のソフトウェアが、有限オートマトンや文法、関係データ・モデル等によって、適切に表現されている場合、それはかなり信頼できるものと期待できるでしょう。

一方、新しくてまだ実証されていない種類の方法またはモデル、または最先端技術が用いられている場合、ソフトウェアはより信頼性が低い可能性があります。

ほとんどのソフトウェア・コスト・モデルでは手法やツール、技術に対してプログラマーの経験に基づく要素が含まれています。

これは、開発コストの見積もりとではもちろん、テスト計画においても重要です。

## 多くの人が関与している領域

ここのアイデアは千匹の猿シンドロームと呼ばれます。

つまり、タスクに関わる人が多くなればなるほど、コミュニケーションのオーバヘッドは大きくなり、その領域が悪くなる（欠陥を多く含む\)可能性も大きくなります。

少人数で熟練したメンバー達で作業するほうが、中程度の能力メンバーが集まった大規模なグループよりもはるかに生産的です。

COCOMO（Boehm、1981）ソフトウェアコストモデルでは、メンバーサイズはソフトウェアサイズの次に重要な要因となります。

それらの欠陥の影響の大きさは、欠陥を検出し修正するときにかかるコストから算出できます。

比較的多くの有資格者で構成されている領域は、よくテストされていると認識されることがあります。

この文脈において「有資格者」とは何かを定義することが重要です。 プログラミング言語のスキルやドメイン知識、開発プロセスのスキル、職務経験など。

その分析には注意が必要です：

いくつかの企業（Jørgensen、1984）では、より複雑な領域に対して最高の人材で対応し、はレベルの低い人材は簡単な領域にアサインしています。

しかしながら、欠陥密度は、人数または構成されるメンバーの優秀さに関連していないかもしれません。

優秀だけど欠陥密度が高い、典型的なケースとしては、大人数で、しかもフォローアップが十分にされていないコンサルタント達が開発しているプログラムです。

欠陥が多い理由の一つは彼らはそれぞれ全く違うやり方で働いているからかもしれません。

## 時間的プレッシャー

時間的プレッシャーにさらされると人はショートカットしたくなります。

人々は問題を解決することに集中し、しばしばすべてがうまくいくと楽観的に考え、品質管理活動をショートカットしようとします。

成熟した組織ではこの楽観主義がちゃんとコントロールされているでしょう。

また、時間的プレッシャーは、残業を誘発する可能性があります。

しかし、よく知られている事として、長期間の作業は人々の集中力を奪います。

不十分なレビューとインスペクションは欠陥密度を極端に増加させる可能性があります。

開発中の時間的プレッシャーをデータとして取得したい場合、労働時間のリストの調査やマネージャーやプログラマーにインタビューすることによって取得できます。

![](/assets/image2.png)

図2：プレッシャー下では事態は悪化する。

## 楽観主義

COCOMOコストモデルでは、コスト要因の1つとして機械時間とメモリの不足があげれています。

最適化をすると追加で設計労力を必要とするか、あまり堅牢な設計方法を使用して最適化を行うことができるということです。

追加の設計努力は、欠陥除去活動からリソースを奪う可能性があり、あまり頑強な設計方法は、より多くの欠陥を生成する可能性がある。

## 欠陥の履歴

欠陥修復は変化をもたらし、これは新たな欠陥をもたらし、したがって欠陥のある領域は持続する傾向がある。

経験によれば、納入されたシステムの欠陥のある領域は、レビューやユニットとサブシステムのテストで欠陥のある領域に戻すことができます。

研究の証拠（Khoshgoftaar et al、1998）と（Levendel、1991）は、過去に欠陥があったモジュールは将来的に欠陥を持つ可能性が高いことを示している。

設計とコードレビュー、およびユニットとサブシステムのテストからの欠陥統計が存在する場合、後のテストフェーズで優先順位を選択することができます。

## 地理的広がり

プロジェクトで一緒に働いている人々が互いにある距離を持っていると、コミュニケーションが悪化します。

これは地方レベルでも当てはまります。 地理学がプロジェクトに悪影響を及ぼすかどうかを評価する上で貴重であることが判明しているアイデアは次のとおりです。

* 同じ建物の異なる階にオフィスを構えている人は、

  同じ階にいる人と同じくらいコミュニケーションをとりましょう。

25メートル以上離れて座っている人は、十分にコミュニケーションできないかもしれません。

* 一般的なプリンタやコーヒーマシンなど、ワークスペース内の共通領域によって通信が改善されます。

* 異なる建物に座っている人々は、同じ建物内の人々と同じくらい通信しません。 異なるラボに座っている人は、同じラボの人よりもコミュニケーションが少ない。

* 異なる国の人々は、文化的にも言語的にも、コミュニケーションの困難を抱えている可能性があります。

* 人々が異なるタイムゾーンに住む場合、コミュニケーションはより困難になります。

原則として、地理的な広がりは危険ではない。

遠距離の人々がコミュニケーションしなければならない場合、危険が生じます。

たとえば、それらがシステムの共通部分で動作する場合などです。

あなたは、ソフトウェア構造が人々の間の良好なコミュニケーションの必要性を必要とする領域をチェックしなければならないが、これらの人々はそれらに対して地理学を有する。

考慮できるその他の要因には、

* 新しい開発対再使用：

  完全に新たに（ゼロから）開発された領域は、（主に）再利用される領域よりも多くの欠陥を含む可能性が高い。

* インターフェース：

多くの欠陥は、多くの場合、通信の問題のために、コンポーネント間のインターフェースに関連していることが実証されています。

したがって、より多くのインタフェースを持つコンポーネントは、多くの場合、より欠陥を起こしやすくなります。

この文脈における区別は、しばしば、内部インタフェースと外部インタフェースとの間でなされる。

* サイズ：

コンポーネントが大きくなり過ぎると、人々は概観を緩めることがあります。 したがって、（あまりにも多い）大きなコンポーネントは、平均サイズのコンポーネントよりも欠陥が多い可能性があります。

プロジェクトについて何も知らない場合や、欠陥発生器

まだ確認できませんか？

その場合は、探索的テストを実行して始めます。

最初の大まかなテストでは、欠陥のある領域が見つかるはずです。 次のテストでは、これらの分野に集中することができます。

最初のテストはシステム全体をカバーすべきであるが、非常に浅い。

典型的なビジネスシナリオといくつかの重要な障害状況についてのみ説明してください。

その後、最も多くの問題が明らかになった領域を特定し、次のテストでこれらの領域を優先させることができます。

次のラウンドは、優先順位をつけた分野のより深く、より徹底的なテストになります。

この2フェーズのアプローチは、テストの前に行われた計画と優先順位付けに加えて、常に適用できます。

> ハードウェア、産業プロセス、ネットワークなどと直接相互作用するソフトウェアは、ハードウェア障害、騒々しいデータ、タイミング問題などの外部の影響を受け易い
>
> テスターとして、あなたの見積もりが削減された場合
>
> テストの実行段階が圧迫されます。 プロジェクトが予算と資源に制約されているだけなので、罪悪感と恐怖は避けられません。



