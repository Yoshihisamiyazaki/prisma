# 3.十分なテスト

リスクベースのテストやこの本で説明したPRISMAメソッドは、ジェームズ・バッハは1997年に考えた「十分なテスト」（Bach、1997）というコンセプトに非常によく関連しています。この考えは当時テスト・コミュニティを二分させました。

テストの専門家の片方の言い分としてはそれは、責任回避だとか妥協だとか単純すぎて有用ではないと主張し、さらにこれによって面倒な作業が発生するとも言っていました。

その一方リスクベーステストの支持者は、そもそも「完璧な」解決方法はなく、我々が実プロジェクトの中でできる現実的なな方法だと主張しました。

十分なテストのアプローチは、リスクベースのテスト手法を理解を助けます。リスクテークされているプロジェクトにおける「リリースジャッジ」のための良いフレームワークです。

あなたがテスターとして次のように尋ねられたことはありませんか？「システムをリリースに十分なテストを行ったのですか？」と、このような大きな決断を下すときに、どうすればその質問に答えることができますか？

プロジェクトマネージャーから言わせれば「テスターは"うーん、まだ十分ではないですね"といつも言っているのでテスター達はいつまでたっても満足することはない」と思っています。プロジェクトマネージャーはテスターを悲観主義者として認識します。

もしあなたが「まあ、大丈夫でしょう」と言うとプロジェクトマネージャーはあなたの目の前に紙を突き出してサインオフ（署名\)をしてくださいと頼むでしょう。

そのサインオフ\(署名\)をしたら、あなたは他人の責任を負えますか？

つまり「十分に良い」とはどのような状態でしょうか？また、リスクベースのテストはこの問にどのように答えてくれるでしょう？

「十分に良い」というのは、テスト理論への形式主義に対する答えです。

"欠陥0"を目標とすることはソフトウェアにおいては合理的ではありません。

あなたは自分自身に対してはもちろん、ユーザや顧客に対して"欠陥0"を目指していると偽ってますか？そうでないでしょう

あなたの顧客やユーザーは現実世界に住んでいるのです。妥協は避けられません。あなたはいつも次から次へと現実が押し寄せ。そしてその先には不完全な情報に基づいて決定を下すことに挑戦しなければなりません。

テスターとして見積もりを減らしたり、テストの実行対象を絞り込んだりしても、どうか怒らないでください。

なぜならばどんなプロジェクトにおいても予算とリソースは常に制約されており、欠陥をゼロにすることはできないため、テストを絞り込む罪悪感と恐怖にさいなまれることは避けることは出来ないはずです。

システムをリリースする（または増強させる）という文脈において「十分」の定義は次のとおりです。

1.現在の状態で十分に価値を出せる事。

2.重大な問題がない事。

3.その機能が作る価値は、残存する問題（重大ではない）が引き起こす可能性のある損害よりも十分価値がある事。

4.現在の状況、考えられているすべての事柄において、それを修正するためにリリースを遅らせたならば、利益よりも損害の方が大きい事。

この定義は、このシステムが本番で稼働し、価値を得、利益を得るために、十分に働いていること（このシステムの拡張を含む）を意味します。

「重大な問題はない」とは、使用不能または容認できなくなるような重大な障害を引き起こすような欠陥はないということ意味します。

現時点ではすべてのことを考慮して、完璧を目指して時間やお金を注ぎ込むよりも、既知の問題を抱えたまま早期に発リリースする方がコスト的にメリットがあります。

このフレームワークは、利点が価値があると期待されている不完全な製品を時間通りにリリースすることを可能にします。

では、リスクベースのテストは、この「十分に良い」アイデアとどのように適合しているのでしょうか？

まず第一に、十分な利益が得られていますか？を確かめないといけません。

私たちが実行するテストでは、最低限利益を提供する機能が完璧に動いているを事実証する必要があります。

私たちはこれを証明しなければなりません。

第二として、重大な問題はありますか？という問いに答える必要があります。

インシデント報告つまりソフトウェアの欠陥の記録は、少なくとも重大な問題（および可能な限り多くの他の問題も含む）の証拠を提供しています。そしてこれが十分であるために重大な問題はないはずと言えるのです。

第三にテストは決定を下すのに十分か？という事です。

テストによってリスクが抽出され、利益がリリースに対して利用できると言えるような十分な証拠を提供しましたか？

本質的にはこれらの全ての質問に対してバランスを取ることが必要です。

十分な品質と許容可能なレベルのリスク抽出する事を提供するという目的で、テストにリソースを費やすのです。

図1：テストと品質とリスクのバランス

## 誰がバランスを決定するか?

製品が十分かどうかを判断するのはテスターの責任ではありません。

ここで一つ例え話を入れましょう。テスターを裁判における証人と見立ててみましょう。

このシーンの主なプレイヤーは次のとおりです。

* 被告人（システム）

* 裁判官（プロジェクトマネージャー）

* 陪審員（ステークホルダー）

* 証人（テスター）

今回の例え話では弁護士の役割出て来ません。前提として裁判官と陪審員両名とも、証人からの証拠を抽出し、「事実」に対して議論する事に優れていると仮定します。

証人の役割に焦点を当ててみましょう。

証人は平等主義者（陪審員）に理解を促すために形式化され複雑な証拠を提示し説明するために法廷に連れて来られた人たちですです。

鑑定人は、客観的かつ分離されたものでなければならない。

証拠が罪悪または無罪を指しているかどうか尋ねられた場合、専門家は証拠に基づいてどのような推論を行うことができるのかを説明しますが、判断を拒否します。

同じように、テスターは、「これらの機能は機能し、これらの機能は機能せず、これらのリスクは対処されており、これらのリスクは残っています」という証拠に基づいているだけです。

これがシステムを受け入れられるかどうかを他の人が判断することです。

テスターは、ステークホルダーに決定を下すための情報を提供するためにそこにあります。

結局のところ、テスターはソフトウェアやソフトウェアの欠陥を作成しません。

テスターはシステムを生産に受け入れるというリスクを冒さない。

テスターは、経営陣および同僚に情報提供された独立した視点を提示する。

製品が十分に良いかどうかを判断するように尋ねられたとき、テスターは得られた証拠に基づいてこれらの利点が利用可能であると言うかもしれないが、これらのリスクは依然として存在する。

しかし、実際にテスターとして決定を下すように求められたら、どうしたらいいですか？

答えは、利害関係者が決定を下すのを手助けしなければならないということです。

6ヵ月前に起こったと考えられていた、あなたの意見ではシステムを容認できないものにする危険性はまだ存在するかもしれません。 当時のステークホルダーとの合意が得られれば、リスクの認識を緩和しない限り、システムを受け入れることはできません。

未解決のリスクについての判断は、以下の通りでなければならない。

* 特定のリスクが処理されたと判断するのに十分なテスト証拠があります。

* 一部の機能が機能しない（リスクが発生している）という証拠があります。

* 証拠の欠如（テストが実施されていないか、テストが計画されていないため）のリスク（疑問）が残っている。

これは判断として理想的ではないように思えるかもしれませんが、

先に論じた非現実的で理想的な世界的受容基準よりも好ましい。

あなたはまだシステムの準備状況について意見を述べることを余儀なくされるかもしれませんが、私たちは、この原則的な立場を専門家の証人とし、プロジェクトの早い段階で取り上げることによって、経営陣に信頼性を高めることができると確信しています。

経営陣は、将来のプロジェクトで適切な責任を負う可能性があります。

## テストに関する古典的な圧迫

テストでよく知られているスクイーズは、開発者がテストに遅れて渡すときに発生します

ライブの締め切りは固定されたままです。

出口基準は、次に何が起こるかを判断するために使用されることがありますが、これらの基準が時間内に満たされないことは、あまりにも頻繁に明らかです。

解放の圧力は非常に大きいので、退出基準を脇に置くことができます。

おそらく、重大なバグをダウングレードしようとする可能性があります。

出口基準は、プロジェクトの初期段階における理想主義的態度の不快な思い出ですが、意思決定を容易にするものではありません。

テストの開始時に明らかになったリスクは、全体にわたって見えています。

テストが圧迫された場合、いくつかのリスクが対処されている可能性があり、テスターが新たなリスクを明らかにした可能性がありますが、顕著なリスクはすべての関係者にとって明らかです。

実際にリリースする決定が下された場合、ステークホルダーは、すべてのリスクに対処し、すべての利点が利用可能であるという証拠が得られる前に、製品を受け入れることを明示的に選択しました。

これは単にテスターの問題とみなされるべきではありません。ステークホルダーは、その決定を下すのに十分な情報があると判断しました。

実際、リリースの決定を行うための情報は、テスト実行の初日から利用可能になります。

テストの証拠と優秀なリスクのバランスがリリースに大きく左右されているということだけです。

したがって、リスクベースのテスターにとって肯定的な（しかし驚くかもしれないが）原則は、テストの実行に利用可能な時間は、あなたの「良いテスト」を行う能力には関係していないということです。

